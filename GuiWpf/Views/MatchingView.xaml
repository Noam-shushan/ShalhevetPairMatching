<UserControl
    x:Class="GuiWpf.Views.MatchingView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:controlers="clr-namespace:GuiWpf.Controlers"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:GuiWpf.Views"
    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:prism="http://prismlibrary.com/"
    d:DesignHeight="450"
    d:DesignWidth="800"
    prism:ViewModelLocator.AutoWireViewModel="True"
    mc:Ignorable="d">
    <Grid>
        <TabControl materialDesign:ColorZoneAssist.Mode="PrimaryLight" TabStripPlacement="Left">
            <TabItem Header="הצעות להתאמה">
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>
                    <Grid.RowDefinitions>
                        <RowDefinition Height="*" />
                        <RowDefinition Height="auto" />
                        <RowDefinition Height="auto" />
                    </Grid.RowDefinitions>
                    <GroupBox Grid.ColumnSpan="2" materialDesign:ColorZoneAssist.Mode="Light">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="auto" />
                                <RowDefinition Height="*" />
                                <RowDefinition Height="auto" />
                            </Grid.RowDefinitions>
                            <materialDesign:Card
                                Grid.Row="1"
                                Grid.Column="0"
                                Margin="5"
                                UniformCornerRadius="20">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        HorizontalAlignment="Center"
                                        Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                        Text="משתתף מישראל" />
                                    <TextBlock Grid.Row="1" />
                                    <TextBlock Grid.Row="2" />
                                </Grid>
                            </materialDesign:Card>
                            <materialDesign:Card
                                Grid.Row="1"
                                Grid.Column="1"
                                Margin="5"
                                UniformCornerRadius="20">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        HorizontalAlignment="Center"
                                        Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                        Text="יש התאמה ב:" />
                                    <controlers:Field
                                        Grid.Row="1"
                                        HorizontalAlignment="Center"
                                        FieldName="רמת אנגלית" />
                                    <controlers:Field
                                        Grid.Row="2"
                                        HorizontalAlignment="Center"
                                        FieldName="מגדר" />
                                    <controlers:Field
                                        Grid.Row="3"
                                        HorizontalAlignment="Center"
                                        FieldName="רמת לימוד" />
                                    <controlers:Field
                                        Grid.Row="4"
                                        HorizontalAlignment="Center"
                                        FieldName="סגנון לימוד" />
                                    <GroupBox
                                        Grid.Row="5"
                                        Margin="5"
                                        materialDesign:ColorZoneAssist.Mode="PrimaryLight"
                                        Header="שעות מקבילות">
                                        <ListBox>
                                            <ListBox.ItemsPanel>
                                                <ItemsPanelTemplate>
                                                    <UniformGrid Columns="4" Rows="7" />
                                                </ItemsPanelTemplate>
                                            </ListBox.ItemsPanel>
                                            <ListBox.ItemTemplate>
                                                <DataTemplate>
                                                    <Grid />
                                                </DataTemplate>
                                            </ListBox.ItemTemplate>
                                        </ListBox>
                                    </GroupBox>
                                </Grid>
                            </materialDesign:Card>
                            <materialDesign:Card
                                Grid.Row="1"
                                Grid.Column="2"
                                Margin="5"
                                UniformCornerRadius="20">
                                <Grid>
                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                        <RowDefinition Height="auto" />
                                    </Grid.RowDefinitions>
                                    <TextBlock
                                        Grid.Row="0"
                                        HorizontalAlignment="Center"
                                        Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                                        Text="משתתף מהתפוצות" />
                                    <TextBlock Grid.Row="1" />
                                    <TextBlock Grid.Row="2" />
                                </Grid>
                            </materialDesign:Card>
                        </Grid>
                    </GroupBox>
                    <Button
                        Grid.Row="1"
                        Content="התאם"
                        Style="{StaticResource ButtonContentStyle}" />
                    <Button
                        Grid.Row="1"
                        Grid.Column="1"
                        Content="שלח מייל הצעה"
                        Style="{StaticResource ButtonContentStyle}" />
                    <ListBox Grid.Row="2" Style="{StaticResource MaterialDesignChoiceChipListBox}">
                        <ListBox.ItemTemplate>
                            <DataTemplate>
                                <Grid />
                            </DataTemplate>
                        </ListBox.ItemTemplate>
                    </ListBox>
                </Grid>
            </TabItem>
            <TabItem Header="היסטוריית התאמות">
                <GroupBox materialDesign:ColorZoneAssist.Mode="Light">
                    <GroupBox.Header>
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*" />
                            </Grid.ColumnDefinitions>
                            <Grid
                                Grid.Column="0"
                                Margin="0,0,10,0"
                                HorizontalAlignment="Left">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*" />
                                    <ColumnDefinition Width="auto" />
                                </Grid.ColumnDefinitions>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="auto" />
                                    <RowDefinition Height="*" />
                                </Grid.RowDefinitions>
                                <TextBox
                                    x:Name="tbSearch"
                                    Grid.Column="0"
                                    Width="100"
                                    HorizontalAlignment="Right"
                                    materialDesign:HintAssist.Hint="חפש"
                                    Style="{StaticResource MaterialDesignFloatingHintTextBox}"
                                    Text="{Binding SearchWord, UpdateSourceTrigger=PropertyChanged}">
                                    <TextBox.InputBindings>
                                        <KeyBinding
                                            Command="{Binding SearchCommand}"
                                            CommandParameter="{Binding RelativeSource={RelativeSource FindAncestor, AncestorType={x:Type TextBox}}}"
                                            Gesture="Return" />
                                    </TextBox.InputBindings>
                                </TextBox>
                                <Button
                                    Grid.Column="1"
                                    Command="{Binding SearchCommand}"
                                    Content="{materialDesign:PackIcon Kind=Search,
                                                                      Size=30}">
                                    <Button.Style>
                                        <Style BasedOn="{StaticResource MaterialDesignIconButton}" TargetType="Button">
                                            <Style.Triggers>
                                                <DataTrigger Binding="{Binding IsLoading}" Value="False">
                                                    <Setter Property="IsEnabled" Value="True" />
                                                </DataTrigger>
                                                <DataTrigger Binding="{Binding IsLoading}" Value="True">
                                                    <Setter Property="IsEnabled" Value="False" />
                                                </DataTrigger>
                                            </Style.Triggers>
                                        </Style>
                                    </Button.Style>
                                </Button>
                            </Grid>
                        </Grid>
                    </GroupBox.Header>
                    <DataGrid>
                        <DataGrid.Columns>
                            <DataGridTextColumn Header="משתתף מישראל" />
                            <DataGridTextColumn Header="משתתף מהתפוצות" />
                            <DataGridTextColumn Header="תאריך התאמה" />
                            <DataGridCheckBoxColumn Header="פעילה?" />
                        </DataGrid.Columns>
                    </DataGrid>
                </GroupBox>
            </TabItem>
        </TabControl>

    </Grid>
</UserControl>
